<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700%7CRoboto%7CJosefin+Sans:100,300,400,500" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/styleGuide.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <script src="https://unpkg.com/scrollreveal/dist/scrollreveal.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js" crossorigin="anonymous"></script>
</head>
<header>
    <a href="messagesInbox.html"><span class="left">Messages</span></a>
    <h2>Chat with ...</h2>
</header>

<style>

    body {
        background: none repeat scroll 0 0 #fff;
        color: #FFFFFF;
        font-family: "Open Sans";
        line-height: 26px;
        margin: 0 auto;
        overflow-X: hidden;
        position: relative;
    }
    .left {
        position: absolute;
        top: 0;
        left: 35px;
        font-size: 18px
    }

    .left:after {
        border: 3px solid #2095FE;
        border-right: 3px solid transparent;
        border-top: 3px solid transparent;
        content: " ";
        height: 14px;
        left: -20px;
        position: absolute;
        top: 20px;
        -webkit-transform: rotate(45deg);
        -moz-transform: rotate(45deg);
        transform: rotate(45deg);
        width: 14px;
    }
    .right {
        position: absolute;
        top: 0;
        right: 15px;
        font-size: 18px
    }
    header {
        color: #2095FE;
        background: #eee;
        border: 1px solid #ccc;
        border-bottom: 1px solid #bbb;
        box-shadow: 0 1px 2px rgba(1,1,1,0.2);
        height: 60px;
        text-align: center;
        font-size: 20px;
        line-height: 58px;
        white-space: nowrap;

    }
    header h2 {
        font-weight: bold;
        color: #111111;
    }
    .messages-wrapper {
        padding-top: 10px;
        position: relative;
        border: 1px solid #ddd;
        border-top: 0 none;
    }
    .messages-list {
        padding-top: 10px;
        position: relative;
        border: 1px solid #ddd;
        border-top: 0 none;
    }
    .message {
        border-radius: 20px 20px 20px 20px;
        margin: 0 15px 10px;
        padding: 15px 20px;
        position: relative;
    }
    .message.to {
        word-wrap: break-word;
        background-color: #2095FE;
        color: #fff;
        margin-left: 80px;
        font-size: 10px;
        list-style-type: none;
    }
    .message.from {
        word-wrap: break-word;
        background-color: #E5E4E9;
        color: #363636;
        margin-right: 80px;
        font-size: 10px;
        list-style-type: none;
    }

</style>

<body>
<div class="panel panel-primary">
    <div class="messages-wrapper">
        <div id = "messages-list" class=" messages-list pre-scrollable">
             <ul id="messages" class = "list-group">
                 <li class="message from">Hello Client</li>
                 <li class="message to">Hello Donor, I am interested in your item </li>
                 <li class="message to">You have a very nice collection <br> on your digital wardrobe</li>
                 <li class="message from">Thanks Client, which item are you interested in?</li>
                 <li class="message to">The Jacket</li>
                 <li class="message from">Okay do you have any questions <br> about the Jacket?</li>
                 <li class="message from">Hello, I'd be glad to lend you my jacket<br>When do you want to pick it up?</li>
             </ul>
        </div>
    </div>
    <br>
    <div id="postedMessages">
        <textarea id="txtMessage" class="form-control" placeholder="Message"></textarea>
    </div>
    <div class="sendBtn"><button id="send" class="btn btn-primary" style="float: right;" onclick="addChat()">Send</button></div>
</div>
<script
        src="https://code.jquery.com/jquery-3.2.1.js"
        integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<script>
  const messages = document.getElementById('messages');
  function scrollToBottom() {
    messages.scrollTop = messages.scrollHeight;
  }
  $(function(){
    scrollToBottom();
  });
  function addChat(){
    var $chatmessages = $('#messages');
    var $txtMessage = $('#txtMessage');
    var txtmsg = $txtMessage.val();

    console.log('textmsg ' + $txtMessage.val() + txtmsg);
    $chatmessages.append(`<li class="message to list-group-item list-group-item-success"> ${$txtMessage.val()} <br></li>`);
    $('#messages-list').scrollTop(100000);

  }

</script>
</body>
</html>
