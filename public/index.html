<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Login</title>
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700%7CRoboto%7CJosefin+Sans:100,300,400,500" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" type="text/css" href="css/styleGuide.css">
    <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
    <script src="https://unpkg.com/scrollreveal/dist/scrollreveal.min.js"></script>
</head>
<body>
<nav class="navbar navbar-default" role="navigation">
    <div class="container-fluid">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="#">
                NeatStreet
            </a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
            <ul class="nav navbar-nav">
                <li><a href="#">Home</a></li>
                <li class="dropdown">
                    <a class="dropdown-toggle" data-toggle="dropdown" href="#">Available Items <span class="caret"></span></a>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="#">Women</a></li>
                        <li><a href="#">Men</a></li>
                        <li><a href="#">Kids</a></li>
                    </ul>
                </li>
                <li><a href="#">Messages</a></li>
                <li><a href="#">Logout</a></li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li><a href="#"><span class="glyphicon glyphicon-user"></span> Sign Up</a></li>
                <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
            </ul>
        </div>
    </div>
</nav>

<section id="showcase">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6">
                <div class="showcase-left">
                    <img src="./img/logo.png" alt="logo" border="0">
                </div>
            </div>
            <div class="col-md-6 col-sm-6">
                <div class="showcase-right">
                    <h1>NeatStreet</h1>
                    <p>GOT SOME EXTRA CLOTHES?</p>
                    <div id="text_part1">
                        <p>The George C. Gordon Library has collections ranging from traditional textbooks and academic journals to classical fiction and rare manuscripts. It also has numerous high-tech suites, a media lab and a cafe.</p>
                    </div>
                </div>
                <br>
                <button type="button" id="read_more1" class="btn btn-default btn-lg showcase-btn"><span
                        class="glyphicon glyphicon-chevron-down"></span>Read More</button>
                <script>
                    var readMoreButtonEl1 = document.getElementById("read_more1");
                    readMoreButtonEl1.addEventListener("click", changeDisplayToBlock1);

                    function changeDisplayToBlock1() {
                        document.getElementById("text_part1").style.display = "block";
                    }
                </script>
            </div>
        </div>
    </div>
</section>

<section id="testimonial">
    <div class="container">
        <p id="testimonial_text">"Getting lost on the periodicals level was fun, as was discovering the new study space down there. Reading in the aisles till the auto-lights turned off..."</p>
        <p class="customer">- Stacy</p>
    </div>
</section>
<br>
<br>

<section id="info1">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6">
                <div class="info-left">
                    <a href="https://imgbb.com/"><img src="https://image.ibb.co/faypvb/knapp_web_450.jpg" alt="knapp_web_450" border="0"></a>
                </div>
            </div>
            <div class="col-md-6 col-sm-6">
                <div class="info-right">
                    <h2>Special Events</h2>
                    <p style="font-weight: bold ">Gordon Library Birthday Party at Homecoming 2007</p>
                    <p>September 29, 11:00am-1:00pm</p>
                    <br>
                    <div id="text_part2">
                        <p style="font-weight: bold ">Exhibition, "Cutting Edge: Modern Metallography and the Ancient Secrets of Swordmaking"</p>
                        <p>October 23-December 20, 2007</p>
                        <br>
                        <p style="font-weight: bold ">Interactive Gallery Talk "Ghost of the Past" with Dr. Forgeng</p>
                        <p>Oct. 31, 12:30pm</p>
                        <br>
                        <p style="font-weight: bold ">Scarefest 2007 - Library Services & Vendor Fair</p>
                        <p>October 31, 11:30am-2:30pm</p>
                        <br>
                    </div>
                    <button type="button" id="read_more2" class="btn btn-default btn-lg showcase-btn"><span
                            class="glyphicon glyphicon-chevron-down"></span>Read More</button>
                    <script>
                        var readMoreButtonEl2 = document.getElementById("read_more2");
                        readMoreButtonEl2.addEventListener("click", changeDisplayToBlock2);

                        function changeDisplayToBlock2() {
                            document.getElementById("text_part2").style.display = "block";
                        }
                    </script>
                </div>
            </div>
        </div>
    </div>
</section>
<hr>
<section id="info2">
    <div class="container">
        <div class="row">
            <div class="col-md-6 col-sm-6">
                <div class="info-left">
                    <h2>Contect Information</h2>
                    <ul>
                        <p><span style="font-weight: bold">Phone: </span>+1-508-831-5410</p>
                        <p><span style="font-weight: bold">Fax: </span>+1-508-831-58290</p>
                        <p><span style="font-weight: bold">Email: </span>library@wpi.edu</p>
                        <p><span style="font-weight: bold">Facebook: </span><a href="https://www.facebook.com/WPILibrary/">Visit Facebook</a></p>
                    </ul>
                </div>
            </div>
            <div class="col-md-6 col-sm-6">
                <div class="info-right">
                    <h2>Address Information</h2>
                    <p style="font-weight: bold">WORCESTER POLYTECHNIC INSTITUTE</p>
                    <p>100 Institute Road</p>
                    <p>Worcester, MA | 01609-2280</p>
                </div>
            </div>
        </div>
    </div>
</section>

<section>
    <div class="container" id="contact">
        <div class="row">
            <div class="col-md-5 col-sm-5">
                <form>
                    <div class="form-group">
                        <label>User: </label>
                        <input id="username" class="form-control" type="text" name="" placeholder="Enter Username">
                    </div>
                    <div class="form-group">
                        <label>Password: </label>
                        <input id="password"class="form-control" type="password" name="" placeholder="Enter Password">
                    </div>
                    <button class="btn btn-default" type="button" onclick="login()">Sign in</button>
                </form>
            </div>
            <div class="col-md-7 col-sm-7">

            </div>
        </div>
    </div>
</section>

<footer>
    <p class="text-center">George C. Gordon Library Copyright &copy; 2017</p>
</footer>

<script
        src="https://code.jquery.com/jquery-3.2.1.js"
        integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE="
        crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<script>
    window.sr = ScrollReveal();
    sr.reveal('.navbar', {
        duration: 2000,
        origin:'bottom'
    });
    sr.reveal('.showcase-left', {
        duration: 2000,
        origin:'top',
        distance:'300px'
    });
    sr.reveal('.showcase-right', {
        duration: 2000,
        origin:'right',
        distance:'300px'
    });
    sr.reveal('.showcase-btn', {
        duration: 2000,
        delay: 2000,
        origin:'bottom'
    });
    sr.reveal('#testimonial div', {
        duration: 2000,
        origin:'bottom'
    });
    sr.reveal('.info-left', {
        duration: 2000,
        origin:'left',
        distance:'300px',
        viewFactor: 0.2
    });
    sr.reveal('.info-right', {
        duration: 2000,
        origin:'right',
        distance:'300px',
        viewFactor: 0.2
    });
</script>

<script>
    $(function() {
        // Smooth Scrolling
        $('a[href*="#"]:not([href="#"])').click(function() {
            if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
                var target = $(this.hash);
                target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
                if (target.length) {
                    $('html, body').animate({
                        scrollTop: target.offset().top
                    }, 1000);
                    return false;
                }
            }
        });
    });

    function login() {
        var username = document.querySelector('#username').value;
        var password = document.querySelector('#password').value;

        var req = new XMLHttpRequest();
        req.open('POST', '/user');
        req.setRequestHeader('Content-type', 'application/json');
        req.responseType = 'json';
        req.onload = function() {
//            document.write(this.response)
            const type = this.response[0].type;
            console.log(this.response[0].type);
            if(type==='Student' || type === 'Teacher') {
                localStorage.setItem('login', username);
                window.location.href = '/Welcome.html';
            } else if(type==='Staff') {
                localStorage.setItem('login', username);
                window.location.href = '/indexStaffDashboard.html';
            }

        }
//        req.onload = function() {
//            console.log(this.response);
//        };
        req.send(JSON.stringify({username, password}));
    }
</script>
</body>
</html>